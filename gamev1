<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√© T·∫≠p Gh√©p Qu·ªëc K·ª≥</title>
    <style>
        :root {
            --bg-color: #e0f2fe;
            --primary-color: #0284c7;
            --success-color: #22c55e;
            --error-color: #ef4444;
            --card-bg: #ffffff;
            --text-main: #0c4a6e;
        }

        body {
            font-family: 'Lexend', 'Segoe UI', Tahoma, sans-serif;
            background-color: var(--bg-color);
            background-image: radial-gradient(#bae6fd 1px, transparent 1px);
            background-size: 20px 20px;
            color: var(--text-main);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 10px;
        }

        /* Tablet Frame Simulation */
        .tablet-frame {
            background: #1e293b;
            padding: 12px;
            border-radius: 40px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            width: 100%;
            max-width: 900px;
            aspect-ratio: 4/3;
            display: flex;
            position: relative;
            border: 4px solid #334155;
        }

        .screen {
            background: white;
            width: 100%;
            height: 100%;
            border-radius: 28px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        /* Menu Screen */
        #menu-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            gap: 20px;
            padding: 20px;
            text-align: center;
        }

        .title-group h1 {
            font-size: clamp(1.5rem, 5vw, 2.5rem);
            margin: 0;
            color: var(--primary-color);
        }

        .level-options {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .level-card {
            background: white;
            border: 3px solid #e2e8f0;
            padding: 20px;
            border-radius: 20px;
            width: 180px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .level-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-color);
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1);
        }

        /* Game Screen Header */
        .header-stats {
            background: #f8fafc;
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 15px;
            border-bottom: 2px solid #e2e8f0;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .game-body {
            flex: 1;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 20px;
        }

        .question-title {
            font-size: 1.4rem;
            margin: 0;
        }

        .content-layout {
            display: flex;
            width: 100%;
            max-width: 800px;
            gap: 30px;
            align-items: center;
            justify-content: center;
        }

        /* Flag Box */
        .flag-container {
            flex: 1;
            max-width: 320px;
            background: #f1f5f9;
            padding: 15px;
            border-radius: 20px;
            border: 2px dashed #cbd5e1;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .flag-img {
            width: 100%;
            aspect-ratio: 3/2;
            object-fit: cover;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            background: white;
        }

        /* Options Grid */
        .options-grid {
            flex: 1;
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            width: 100%;
        }

        .opt-btn {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            padding: 18px;
            border-radius: 15px;
            font-size: 1.3rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            color: var(--text-main);
            text-transform: uppercase;
        }

        .opt-btn:hover { background: #f0f9ff; border-color: var(--primary-color); }
        .correct { background: var(--success-color) !important; color: white; border-color: var(--success-color); transform: scale(1.05); }
        .wrong { background: var(--error-color) !important; color: white; border-color: var(--error-color); }

        /* Fact Overlay */
        #fact-overlay {
            display: none;
            position: absolute;
            bottom: 0; left: 0; right: 0;
            background: white;
            border-top: 4px solid var(--success-color);
            padding: 20px;
            z-index: 50;
            box-shadow: 0 -10px 20px rgba(0,0,0,0.1);
            animation: slideUp 0.4s ease-out;
        }

        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }

        .fact-inner {
            display: flex;
            gap: 20px;
            align-items: center;
            max-width: 800px;
            margin: 0 auto;
        }

        .fact-img {
            width: 120px;
            height: 90px;
            object-fit: cover;
            border-radius: 10px;
        }

        .next-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            margin-left: auto;
        }

        .timer-red { color: var(--error-color); animation: pulse 1s infinite; }
        @keyframes pulse { 50% { opacity: 0.5; } }

        @media (max-width: 600px) {
            .tablet-frame { aspect-ratio: auto; min-height: 90vh; border-radius: 20px; padding: 8px; }
            .content-layout { flex-direction: column; }
            .options-grid { grid-template-columns: 1fr; }
            .fact-inner { flex-direction: column; text-align: center; }
            .fact-img { width: 100%; height: 120px; }
        }
    </style>
</head>
<body>

    <div class="tablet-frame">
        <div class="screen">
            <!-- M√†n h√¨nh Menu -->
            <div id="menu-screen">
                <div class="title-group">
                    <h1>üåè B√© T·∫≠p Gh√©p Qu·ªëc K·ª≥</h1>
                    <p>H√£y ch·ªçn ƒë·ªô kh√≥ ƒë·ªÉ b·∫Øt ƒë·∫ßu nh√©!</p>
                </div>
                <div class="level-options">
                    <div class="level-card" onclick="startGame('easy')">
                        <h2 style="color:var(--success-color)">D·ªÑ</h2>
                        <p>C√°c n∆∞·ªõc quen thu·ªôc nh·∫•t</p>
                    </div>
                    <div class="level-card" onclick="startGame('medium')">
                        <h2 style="color:#f59e0b">V·ª™A</h2>
                        <p>C·∫ßn suy nghƒ© m·ªôt ch√∫t</p>
                    </div>
                    <div class="level-card" onclick="startGame('hard')">
                        <h2 style="color:var(--error-color)">KH√ì</h2>
                        <p>D√†nh cho chuy√™n gia!</p>
                    </div>
                </div>
            </div>

            <!-- M√†n h√¨nh Game -->
            <div id="game-screen" style="display:none; height: 100%; display: flex; flex-direction: column;">
                <div class="header-stats">
                    <span>üèÜ ƒêi·ªÉm: <span id="score">0</span></span>
                    <span id="timer-box">‚è∞: <span id="time">30</span>s</span>
                    <span>üìç C√¢u: <span id="round">1</span>/10</span>
                </div>

                <div class="game-body">
                    <h2 class="question-title">ƒê√¢y l√† qu·ªëc k·ª≥ c·ªßa n∆∞·ªõc n√†o?</h2>
                    
                    <div class="content-layout">
                        <div class="flag-container">
                            <img id="flag-display" class="flag-img" src="" alt="Flag">
                            <p style="margin-top:10px; font-weight:bold; color:var(--primary-color)">QU·ªêC K·ª≤</p>
                        </div>

                        <div id="options" class="options-grid">
                            <!-- N√∫t ƒë√°p √°n s·∫Ω ·ªü ƒë√¢y -->
                        </div>
                    </div>
                </div>

                <!-- Th√¥ng tin th√∫ v·ªã -->
                <div id="fact-overlay">
                    <div class="fact-inner">
                        <img id="fact-image" class="fact-img" src="" alt="Info">
                        <div>
                            <strong style="color:var(--success-color)">üí° B·∫°n c√≥ bi·∫øt?</strong>
                            <p id="fact-text" style="margin: 5px 0 0 0; font-size: 0.95rem;"></p>
                        </div>
                        <button class="next-btn" onclick="nextRound()">Ti·∫øp theo ‚ûî</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const db = {
            easy: [
                { name: "Vi·ªát Nam", code: "vn", fact: "Vi·ªát Nam l√† n∆∞·ªõc xu·∫•t kh·∫©u c√† ph√™ l·ªõn th·ª© hai th·∫ø gi·ªõi.", img: "https://images.unsplash.com/photo-1555944858-752c8a521210?w=400" },
                { name: "Hoa K·ª≥", code: "us", fact: "Qu·ªëc k·ª≥ M·ªπ c√≥ 50 ng√¥i sao ƒë·∫°i di·ªán cho 50 ti·ªÉu bang.", img: "https://images.unsplash.com/photo-1508433957232-3107f5ec3045?w=400" },
                { name: "Nh·∫≠t B·∫£n", code: "jp", fact: "Nh·∫≠t B·∫£n l√† qu·ªëc gia c·ªßa hoa anh ƒë√†o v√† n√∫i Ph√∫ Sƒ©.", img: "https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=400" },
                { name: "Ph√°p", code: "fr", fact: "Th√°p Eiffel t·∫°i Paris l√† bi·ªÉu t∆∞·ª£ng n·ªïi ti·∫øng nh·∫•t c·ªßa Ph√°p.", img: "https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=400" },
                { name: "H√†n Qu·ªëc", code: "kr", fact: "H√†n Qu·ªëc c√≥ n·ªÅn vƒÉn h√≥a K-Pop ph√°t tri·ªÉn r·∫•t m·∫°nh m·∫Ω.", img: "https://images.unsplash.com/photo-1538481199705-c710c4e965fc?w=400" },
                { name: "Anh", code: "gb", fact: "N∆∞·ªõc Anh n·ªïi ti·∫øng v·ªõi ƒë·ªìng h·ªì Big Ben v√† xe bu√Ωt 2 t·∫ßng.", img: "https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?w=400" },
                { name: "Trung Qu·ªëc", code: "cn", fact: "G·∫•u tr√∫c l√† bi·ªÉu t∆∞·ª£ng v√† kho b√°u qu·ªëc gia c·ªßa Trung Qu·ªëc.", img: "https://images.unsplash.com/photo-1508804185872-d7badad00f7d?w=400" },
                { name: "Th√°i Lan", code: "th", fact: "Th√°i Lan ƒë∆∞·ª£c bi·∫øt ƒë·∫øn nh∆∞ x·ª© s·ªü c·ªßa nh·ªØng n·ª• c∆∞·ªùi.", img: "https://images.unsplash.com/photo-1528181304800-2f143c8c798d?w=400" },
                { name: "√öc", code: "au", fact: "Chu·ªôt t√∫i (Kangaroo) ch·ªâ s·ªëng t·ª± nhi√™n ·ªü n∆∞·ªõc √öc.", img: "https://images.unsplash.com/photo-1523482580672-f109ba8cb9be?w=400" },
                { name: "Canada", code: "ca", fact: "Canada c√≥ nhi·ªÅu h·ªì n∆∞·ªõc ng·ªçt h∆°n b·∫•t k·ª≥ n∆∞·ªõc n√†o.", img: "https://images.unsplash.com/photo-1517935703635-275d25e40638?w=400" }
            ],
            medium: [
                { name: "Th·ª•y ƒêi·ªÉn", code: "se", fact: "Th·ª•y ƒêi·ªÉn l√† n∆°i ra ƒë·ªùi c·ªßa gi·∫£i th∆∞·ªüng Nobel.", img: "https://images.unsplash.com/photo-1509339022327-1e1e25360a41?w=400" },
                { name: "Hy L·∫°p", code: "gr", fact: "Hy L·∫°p l√† n∆°i khai sinh ra Th·∫ø v·∫≠n h·ªôi Olympic.", img: "https://images.unsplash.com/photo-1503152394-c571994fd373?w=400" },
                { name: "Th·ªï Nhƒ© K·ª≥", code: "tr", fact: "Th·ªï Nhƒ© K·ª≥ n·∫±m ·ªü c·∫£ ch√¢u √Å v√† ch√¢u √Çu.", img: "https://images.unsplash.com/photo-1524231757912-21f4fe3a7200?w=400" },
                { name: "Nga", code: "ru", fact: "Nga l√† qu·ªëc gia c√≥ di·ªán t√≠ch l·ªõn nh·∫•t th·∫ø gi·ªõi.", img: "https://images.unsplash.com/photo-1513326738677-b964603b136d?w=400" },
                { name: "√ù", code: "it", fact: "√ù l√† qu√™ h∆∞∆°ng c·ªßa m√≥n Pizza v√† M·ª≥ √ù.", img: "https://images.unsplash.com/photo-1516483638261-f4dbaf036963?w=400" },
                { name: "ƒê·ª©c", code: "de", fact: "ƒê·ª©c l√† qu√™ h∆∞∆°ng c·ªßa c√°c lo·∫°i xe h∆°i n·ªïi ti·∫øng.", img: "https://images.unsplash.com/photo-1467043153537-a4fba2cd39ef?w=400" },
                { name: "T√¢y Ban Nha", code: "es", fact: "T√¢y Ban Nha c√≥ v≈© ƒëi·ªáu Flamenco r·∫•t s√¥i ƒë·ªông.", img: "https://images.unsplash.com/photo-1543783230-27835842650d?w=400" },
                { name: "H√† Lan", code: "nl", fact: "H√† Lan n·ªïi ti·∫øng v·ªõi hoa Tulip v√† c·ªëi xay gi√≥.", img: "https://images.unsplash.com/photo-1518114055437-07e86638f25c?w=400" },
                { name: "Brazil", code: "br", fact: "Brazil l√† qu·ªëc gia gi√†nh ƒë∆∞·ª£c nhi·ªÅu c√∫p World Cup nh·∫•t.", img: "https://images.unsplash.com/photo-1483729558449-99ef09a8c325?w=400" },
                { name: "Ai C·∫≠p", code: "eg", fact: "Ai C·∫≠p c·ªï ƒë·∫°i n·ªïi ti·∫øng v·ªõi c√°c Kim t·ª± th√°p.", img: "https://images.unsplash.com/photo-1503177119275-0aa32b3a7447?w=400" }
            ],
            hard: [
                { name: "Bhutan", code: "bt", fact: "Bhutan ƒëo l∆∞·ªùng s·ª± gi√†u c√≥ b·∫±ng ch·ªâ s·ªë H·∫°nh ph√∫c.", img: "https://images.unsplash.com/photo-1547333590-47fae5f58d21?w=400" },
                { name: "Iceland", code: "is", fact: "Iceland kh√¥ng c√≥ mu·ªói v√† c√≥ r·∫•t nhi·ªÅu n√∫i l·ª≠a.", img: "https://images.unsplash.com/photo-1504829857797-ddff29c27927?w=400" },
                { name: "Nepal", code: "np", fact: "Nepal c√≥ ƒë·ªânh n√∫i Everest cao nh·∫•t th·∫ø gi·ªõi.", img: "https://images.unsplash.com/photo-1544735716-392fe2489ffa?w=400" },
                { name: "Madagascar", code: "mg", fact: "ƒê·∫£o n√†y c√≥ lo√†i v∆∞·ª£n c√°o Lemur r·∫•t ƒë·∫∑c bi·ªát.", img: "https://images.unsplash.com/photo-1521408892550-20ba8f381676?w=400" },
                { name: "M√¥ng C·ªï", code: "mn", fact: "M√¥ng C·ªï c√≥ m·∫≠t ƒë·ªô d√¢n s·ªë th·∫•p nh·∫•t th·∫ø gi·ªõi.", img: "https://images.unsplash.com/photo-1527334134460-f21a05ef62f3?w=400" },
                { name: "Maroc", code: "ma", fact: "Th√†nh ph·ªë Marrakesh ·ªü ƒë√¢y ƒë∆∞·ª£c g·ªçi l√† Th√†nh ph·ªë ƒê·ªè.", img: "https://images.unsplash.com/photo-1489749798305-4fea3ae63d43?w=400" },
                { name: "Senegal", code: "sn", fact: "Senegal c√≥ h·ªì Retba v·ªõi n∆∞·ªõc m√†u h·ªìng t·ª± nhi√™n.", img: "https://images.unsplash.com/photo-1523841589119-b444fe093fa7?w=400" },
                { name: "Kazakhstan", code: "kz", fact: "L√† n∆∞·ªõc kh√¥ng gi√°p bi·ªÉn c√≥ di·ªán t√≠ch l·ªõn nh·∫•t th·∫ø gi·ªõi.", img: "https://images.unsplash.com/photo-1536413214590-502a5c9f559b?w=400" },
                { name: "Uzbekistan", code: "uz", fact: "Th√†nh ph·ªë Samarkand t·ª´ng l√† trung t√¢m Con ƒë∆∞·ªùng T∆° l·ª•a.", img: "https://images.unsplash.com/photo-1528644491124-2f7c04633a1e?w=400" },
                { name: "Ethiopia", code: "et", fact: "ƒê√¢y l√† n∆°i ƒë·∫ßu ti√™n ph√°t hi·ªán ra c√¢y c√† ph√™.", img: "https://images.unsplash.com/photo-1523805009345-7448845a9e13?w=400" }
            ]
        };

        let currentLevel = 'easy';
        let questionStack = [];
        let currentRound = 1;
        let score = 0;
        let timeLeft = 30;
        let timer;
        let targetCountry;

        function startGame(level) {
            currentLevel = level;
            currentRound = 1;
            score = 0;
            
            const pool = [...db[level]];
            questionStack = pool.sort(() => Math.random() - 0.5).slice(0, 10);
            
            timeLeft = (level === 'easy' ? 60 : (level === 'medium' ? 40 : 25));
            
            document.getElementById('menu-screen').style.display = 'none';
            document.getElementById('game-screen').style.display = 'flex';
            
            loadQuestion();
            startTimer();
        }

        function startTimer() {
            clearInterval(timer);
            timer = setInterval(() => {
                timeLeft--;
                document.getElementById('time').innerText = timeLeft;
                if(timeLeft <= 7) document.getElementById('timer-box').classList.add('timer-red');
                else document.getElementById('timer-box').classList.remove('timer-red');
                
                if(timeLeft <= 0) endGame("H·∫øt gi·ªù r·ªìi! H√£y c·ªë g·∫Øng h∆°n nh√©.");
            }, 1000);
        }

        function loadQuestion() {
            document.getElementById('round').innerText = currentRound;
            document.getElementById('score').innerText = score;
            
            targetCountry = questionStack[currentRound - 1];
            document.getElementById('flag-display').src = `https://flagcdn.com/w320/${targetCountry.code}.png`;
            
            let options = [targetCountry];
            const allCountries = [...db.easy, ...db.medium, ...db.hard];
            
            while(options.length < 4) {
                let r = allCountries[Math.floor(Math.random() * allCountries.length)];
                if(!options.find(o => o.code === r.code)) options.push(r);
            }
            options.sort(() => Math.random() - 0.5);

            const optContainer = document.getElementById('options');
            optContainer.innerHTML = '';
            options.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'opt-btn';
                btn.innerText = opt.name;
                btn.onclick = () => checkAnswer(opt, btn);
                optContainer.appendChild(btn);
            });
        }

        function checkAnswer(selected, btn) {
            const btns = document.querySelectorAll('.opt-btn');
            btns.forEach(b => b.disabled = true);

            if(selected.code === targetCountry.code) {
                btn.classList.add('correct');
                score += 10 + Math.floor(timeLeft / 2);
                showFact();
            } else {
                btn.classList.add('wrong');
                timeLeft = Math.max(0, timeLeft - 8);
                document.getElementById('time').innerText = timeLeft;
                setTimeout(() => {
                    btns.forEach(b => { b.disabled = false; b.classList.remove('wrong'); });
                }, 1000);
            }
        }

        function showFact() {
            document.getElementById('fact-text').innerText = targetCountry.fact;
            document.getElementById('fact-image').src = targetCountry.img;
            document.getElementById('fact-overlay').style.display = 'block';
        }

        function nextRound() {
            document.getElementById('fact-overlay').style.display = 'none';
            currentRound++;
            if(currentRound > 10) endGame("Tuy·ªát v·ªùi! B·∫°n ƒë√£ ho√†n th√†nh th·ª≠ th√°ch.");
            else loadQuestion();
        }

        function endGame(msg) {
            clearInterval(timer);
            const overlay = document.createElement('div');
            overlay.style = "position:absolute; inset:0; background:rgba(255,255,255,0.95); z-index:100; display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; padding:20px;";
            overlay.innerHTML = `
                <h1 style="color:var(--primary-color)">K·∫æT TH√öC</h1>
                <p style="font-size:1.2rem">${msg}</p>
                <h2 style="font-size:3rem; margin:10px 0;">${score} ƒêI·ªÇM</h2>
                <button onclick="location.reload()" class="next-btn" style="padding:15px 40px; font-size:1.2rem">Ch∆°i l·∫°i</button>
            `;
            document.querySelector('.screen').appendChild(overlay);
        }
    </script>
</body>
</html>
